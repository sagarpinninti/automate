---
- hosts: nodes
  remote_user: admin
  become: yes
  become_method: sudo
  tasks:
    - copy: src=/etc/yum.repos.d/kubernetes.repo dest=/etc/yum.repos.d/kubernetes.repo

    - name: 1. install docker
      yum: name=docker state=installed

    - name: 1. install kubectl
      yum: name=kubectl state=installed

    - name: 2. install kubeadm
      yum: name=kubeadm state=installed

    - name: 3. install kubelet
      yum: name=kubelet state=installed
 

#   - name: 4. install kubernetes 
 #     yum: name=kubernetes state=installed

